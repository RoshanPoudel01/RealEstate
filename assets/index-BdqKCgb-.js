import{e as b,ca as _,cb as f,r as d,j as e,F as S,S as C,i as s,B as y,J as D,P as E,aq as F,cc as H,cd as R,b0 as w,H as B,ce as I,am as N,cf as P,cg as T,ar as k}from"./index-BBeA5zvM.js";import{R as z}from"./index-B17f1_I2.js";import{t as A}from"./index-BnXeMmaO.js";import"./index-CwFdvwTI.js";import"./Trash-D-gVg31T.js";const r=({slug:a})=>{const i={id:"",title_en:"",title_np:"",description_en:"",description_np:"",caption_en:"",caption_np:"",image:""},{control:n,handleSubmit:c,reset:o}=b({defaultValues:i}),{data:t}=_(a),{mutateAsync:l,isPending:m}=f();d.useEffect(()=>{o(t?{id:t.data.id,title_en:t.data.title_en,title_np:t.data.title_np,caption_en:t.data.caption_en,caption_np:t.data.caption_np,description_en:t.data.description_en,description_np:t.data.description_np,image:t.data.image}:i)},[t,o]);const x=async j=>{const{id:h,...u}=j,g=A(u);await l({id:h,data:g})};return e.jsxs(S,{flexDir:"column",gap:4,children:[e.jsx(C,{columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{id:`section-form-${a}`,onSubmit:c(x),children:[e.jsx(s,{name:"id",label:"ID",control:n,hidden:!0}),e.jsx(s,{name:"title_en",label:"Company 1 (En)",control:n}),e.jsx(s,{name:"title_np",label:"Company 1 (Np)",control:n}),e.jsx(s,{name:"caption_en",label:"Company 2 (En)",control:n}),e.jsx(s,{name:"caption_np",label:"Company 2 (Np)",control:n}),e.jsx(s,{name:"description_en",label:"Description (En)",control:n,type:"textarea"}),e.jsx(s,{name:"description_np",label:"Description (Np)",control:n,type:"textarea"}),(a==="hero-section"||a==="statistics-section"||a==="contact-section")&&e.jsx(z,{name:"image",label:"Image",control:n,options:{accept:{"image/*":["*.jpg","*.jpeg","*.png"]}},file:(t==null?void 0:t.data.image)??""})]})}),e.jsx(y,{form:`section-form-${a}`,loading:m,type:"submit",children:"Submit"})]})},p=({heading:a,defaultOpen:i,children:n})=>{const[c,o]=d.useState(i);return e.jsx(F,{children:e.jsxs(H,{open:c,onOpenChange:t=>o(t.open),defaultOpen:i,children:[e.jsx(R,{asChild:!0,children:e.jsx(w,{cursor:"pointer",py:4,borderBottom:"1px solid",borderColor:"gray.200",textAlign:"center",children:e.jsxs(B,{justify:"space-between",w:"full",children:[e.jsx(I,{children:a}),e.jsx(N,{asChild:!0,transform:c?"rotate(180deg)":"",transition:"transform .25s ease",boxSize:8,children:e.jsx(P,{})})]})})}),e.jsx(T,{children:e.jsx(k,{children:n})})]})})},M=()=>e.jsxs(D,{gap:8,children:[e.jsx(E,{heading:"Sections",description:"Manage the sections of the website"}),e.jsx(p,{heading:"Hero Section",defaultOpen:!0,children:e.jsx(r,{slug:"hero-section"})}),e.jsx(p,{heading:"Statistics Section",children:e.jsx(r,{slug:"statistics-section"})}),e.jsx(p,{heading:"Contact Section",children:e.jsx(r,{slug:"contact-section"})})]});export{M as default};
