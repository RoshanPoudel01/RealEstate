import{u as P,ai as b,r as p,j as e,D,P as A,H as x,B as I,T as o,L as K,F as v,aj as E}from"./index-hFgZWhY0.js";import{A as L}from"./ActionColumn-B44M1TSK.js";import{S as T}from"./StatusSwitch-9hBfSCm7.js";import{u as _,S as C}from"./useSearchParamState-Cniq83a1.js";import{D as F}from"./DeleteAlert-CgX7RcaJ.js";import"./Pencil-wySCGSXj.js";import"./Trash-AV0bthqm.js";const M=()=>{var d,u;const{pageIndex:r,setPageIndex:m,keyword:i,setKeyword:h}=_(),c=P(),y=[{header:"S.N",accessorKey:"s.no",cell:({row:s})=>{const{index:t}=s;return e.jsx(o,{children:(r-1)*10+t+1})}},{header:"Title (EN)",accessorKey:"title_en",cell:({row:s})=>{const{title_en:t}=s.original;return e.jsx(o,{children:t})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:s})=>{const{image:t}=s.original;return t?e.jsx(K,{maxW:"100px",minW:"100px",aspectRatio:1,mx:"auto",src:t??"",alt:"property"}):e.jsx(v,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:e.jsx(o,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:s})=>{const{id:t,is_active:n}=s.original;return e.jsx(T,{isActive:!!n,model:"property",rowId:t})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:s})=>{const{id:t}=s.original,[n,g]=p.useState(!1),{mutateAsync:S,isPending:w}=E();return e.jsxs(x,{w:"max-content",mx:"auto",children:[e.jsx(L,{handleView:()=>{},handleEdit:()=>c(`edit/${t}`)}),e.jsx(F,{open:n,setOpen:g,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Property",description:"Are you sure you want to delete this property?",onConfirm:async()=>{await S({id:t}),g(!1)}})]})}}],{data:a,isPending:f,isFetching:j,refetch:l}=b({page:r,keyword:i});return p.useEffect(()=>{l()},[r,i,l]),e.jsxs(D,{columns:y,data:(a==null?void 0:a.data.rows)??[],count:(a==null?void 0:a.data.count)??0,isLoading:f||j,pagination:{manual:!0,pageCount:((d=a==null?void 0:a.data.pagination)==null?void 0:d.last_page)??1,totalRows:((u=a==null?void 0:a.data.pagination)==null?void 0:u.total)??0,pageParams:{pageIndex:r,setPageIndex:m}},children:[e.jsx(A,{heading:"Properties",description:"Manage your properties here"}),e.jsxs(x,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[e.jsx(C,{onSearch:h,maxW:"300px",placeholder:"Search by title"}),e.jsx(I,{onClick:()=>c("create"),children:"Add Property"})]})]})};export{M as default};
