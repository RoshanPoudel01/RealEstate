import{u as b,p as _,r as u,j as a,D,P as K,H as x,B as v,T as n,L as P,F as A,q as k}from"./index-Dbk5Kekq.js";import{A as I}from"./ActionColumn-Cr9PYN4K.js";import{S as N}from"./StatusSwitch-D0iP8G5l.js";import{u as C,S as E}from"./useSearchParamState-CPxmmP4R.js";import{D as T}from"./DeleteAlert-BSPeLUmb.js";import"./Trash-BjDGnoUu.js";const O=()=>{var d,p;const{pageIndex:s,setPageIndex:m,keyword:o,setKeyword:h}=C(),c=b(),S=[{header:"S.N",accessorKey:"s.no",cell:({row:t})=>{const{index:e}=t;return a.jsx(n,{children:(s-1)*10+e+1})}},{header:"Title (EN)",accessorKey:"title_en",cell:({row:t})=>{const{title_en:e}=t.original;return a.jsx(n,{children:e})},enableSorting:!1},{header:"Title (NP)",accessorKey:"title_np",cell:({row:t})=>{const{title_np:e}=t.original;return a.jsx(n,{children:e})},enableSorting:!1},{header:"Description (EN)",accessorKey:"description_en",cell:({row:t})=>{const{description_en:e}=t.original;return a.jsx(n,{minW:"300px",maxW:"300px",wordBreak:"break-word",lineClamp:2,mx:"auto",children:e})},enableSorting:!1},{header:"Description (NP)",accessorKey:"description_np",cell:({row:t})=>{const{description_np:e}=t.original;return a.jsx(n,{minW:"300px",maxW:"300px",wordBreak:"break-word",lineClamp:2,mx:"auto",children:e})},enableSorting:!1},{header:"Display Order",accessorKey:"display_order",cell:({row:t})=>{const{display_order:e}=t.original;return a.jsx(n,{children:e})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>{const{image:e}=t.original;return e?a.jsx(P,{src:e??"",alt:"service"}):a.jsx(A,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:a.jsx(n,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:t})=>{const{id:e,is_active:i}=t.original;return a.jsx(N,{isActive:!!i,model:"service",rowId:e})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:t})=>{const{id:e}=t.original,[i,g]=u.useState(!1),{mutateAsync:j,isPending:w}=k();return a.jsxs(x,{w:"max-content",mx:"auto",children:[a.jsx(I,{handleView:()=>{},handleEdit:()=>c(`edit/${e}`)}),a.jsx(T,{open:i,setOpen:g,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Service",description:"Are you sure you want to delete this service?",onConfirm:async()=>{await j({id:e}),g(!1)}})]})}}],{data:r,isPending:y,isFetching:f,refetch:l}=_({page:s,keyword:o});return u.useEffect(()=>{l()},[s,o,l]),a.jsxs(D,{columns:S,data:(r==null?void 0:r.data.rows)??[],isLoading:y||f,count:(r==null?void 0:r.data.count)??0,pagination:{manual:!0,pageCount:((d=r==null?void 0:r.data.pagination)==null?void 0:d.last_page)??1,totalRows:((p=r==null?void 0:r.data.pagination)==null?void 0:p.total)??0,pageParams:{pageIndex:s,setPageIndex:m}},children:[a.jsx(K,{heading:"Services",description:"Manage your services here"}),a.jsxs(x,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[a.jsx(E,{onSearch:h,maxW:"300px",placeholder:"Search by title"}),a.jsx(v,{onClick:()=>c("create"),children:"Add Service"})]})]})};export{O as default};
