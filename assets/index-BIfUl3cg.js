import{u as b,n as D,r as p,j as a,D as T,P as _,H as u,B as K,T as s,L as N,F as P,o as A}from"./index-CrfLhmKo.js";import{A as I}from"./ActionColumn-BY8Bbuzm.js";import{S as E}from"./StatusSwitch-5Srm5hZP.js";import{u as v,S as L}from"./useSearchParamState-CJVeS0aH.js";import{D as C}from"./DeleteAlert-rPmIpJtL.js";import"./Pencil-aZSpW0BR.js";import"./Trash-ovb0-fQn.js";const M=()=>{var d,g;const{pageIndex:r,setPageIndex:h,keyword:o,setKeyword:x}=v(),c=b(),f=[{header:"S.N",accessorKey:"s.no",cell:({row:n})=>{const{index:e}=n;return a.jsx(s,{children:(r-1)*10+e+1})}},{header:"Name (EN)",accessorKey:"name_en",cell:({row:n})=>{const{name_en:e}=n.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Name (NP)",accessorKey:"name_np",cell:({row:n})=>{const{name_np:e}=n.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Description (EN)",accessorKey:"description_en",cell:({row:n})=>{const{description_en:e}=n.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Description (NP)",accessorKey:"description_np",cell:({row:n})=>{const{description_np:e}=n.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:n})=>{const{image:e}=n.original;return e?a.jsx(N,{src:e??"",alt:"team"}):a.jsx(P,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:a.jsx(s,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:n})=>{const{id:e,is_active:i}=n.original;return a.jsx(E,{isActive:!!i,model:"team",rowId:e})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:n})=>{const{id:e}=n.original,[i,m]=p.useState(!1),{mutateAsync:S,isPending:w}=A();return a.jsxs(u,{w:"max-content",mx:"auto",children:[a.jsx(I,{handleView:()=>{},handleEdit:()=>c(`edit/${e}`)}),a.jsx(C,{open:i,setOpen:m,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Team",description:"Are you sure you want to delete this team?",onConfirm:async()=>{await S({id:e}),m(!1)}})]})}}],{data:t,isPending:j,isFetching:y,refetch:l}=D({page:r,keyword:o});return p.useEffect(()=>{l()},[r,o,l]),a.jsxs(T,{columns:f,data:(t==null?void 0:t.data.rows)??[],count:(t==null?void 0:t.data.count)??0,isLoading:j||y,pagination:{manual:!0,pageCount:((d=t==null?void 0:t.data.pagination)==null?void 0:d.last_page)??1,totalRows:((g=t==null?void 0:t.data.pagination)==null?void 0:g.total)??0,pageParams:{pageIndex:r,setPageIndex:h}},children:[a.jsx(_,{heading:"Teams",description:"Manage your teams here"}),a.jsxs(u,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[a.jsx(L,{onSearch:x,maxW:"300px",placeholder:"Search by name"}),a.jsx(K,{onClick:()=>c("create"),children:"Add Team"})]})]})};export{M as default};
