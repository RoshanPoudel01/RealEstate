import{e as q,ca as S,r as n,cb as k,j as e,F as D,P as A,S as F,i as d,B as T}from"./index-Mfjc3LbF.js";import{R as U}from"./index-CtlnRrA-.js";import{C as u}from"./index-BdfpCZcS.js";import{u as I}from"./useGetErrors-Bhs_yQR9.js";import{t as R}from"./index-CIfiG3GQ.js";import{c as y,d as B,a as s}from"./index.esm-BXtshgbH.js";import"./index-BjF-Ba9u.js";import"./Trash-DhxQr7B0.js";y().shape({id:B().required("Id is required"),title_en:s().required("Title is required"),title_np:s().required("Title is required"),description_en:s().required("Description is required"),description_np:s().required("Description is required")});const z=()=>{const p="about-section",l={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:""},{control:t,handleSubmit:m,reset:b}=q({defaultValues:l}),{data:r}=S(p),[i,o]=n.useState({}),{mutateAsync:f,isPending:x,isError:a,error:c}=k();n.useEffect(()=>{r&&b(r==null?void 0:r.data)},[r]),n.useEffect(()=>{a&&o(I(c))},[a,c]);const E=async _=>{o({});const{id:g,...h}=_,j=R(h);(await f({id:g,data:j})).status===400&&o({})};return e.jsxs(D,{flexDir:"column",gap:4,children:[e.jsx(A,{heading:"About Us",description:"Update the about us section"}),e.jsx(F,{alignItems:"start",columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{noValidate:!0,id:"section-form-about-conditions",onSubmit:m(E),children:[e.jsx(d,{control:t,name:"title_en",label:"Title (En)",required:!0,backendError:i.title_en}),e.jsx(d,{control:t,name:"title_en",label:"Title (Np)",required:!0,backendError:i.title_en}),e.jsx(u,{control:t,name:"description_en",label:"Description (En)",backendError:i.description_en}),e.jsx(u,{control:t,name:"description_np",label:"Description (Np)",backendError:i.description_np}),e.jsx(U,{control:t,name:"image",label:"Image",backendError:i.image,boxWidth:"full",boxHeight:"full",boxAspectRatio:21/9,options:{accept:{"image/*":[]}}})]})}),e.jsx(T,{loading:x,type:"submit",form:"section-form-about-conditions",children:"Save"})]})};export{z as default};
