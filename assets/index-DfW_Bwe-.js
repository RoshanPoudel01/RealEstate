import{e as S,ca as k,r as a,cb as D,j as e,F as A,P as F,S as T,i as p,B as U}from"./index-iYgY3VGR.js";import{R as I}from"./index-Dps648_U.js";import{C as u}from"./index-Bj-elNS6.js";import{u as R}from"./useGetErrors-Bhs_yQR9.js";import{t as y}from"./index-BQSlTB4Q.js";import{c as B,d as C,a as s}from"./index.esm-HcHLg7V9.js";import"./index-DrZBy5xu.js";import"./Trash-Q03gug3t.js";B().shape({id:C().required("Id is required"),title_en:s().required("Title is required"),title_np:s().required("Title is required"),description_en:s().required("Description is required"),description_np:s().required("Description is required")});const W=()=>{var d;const l="about-section",m={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:""},{control:r,handleSubmit:b,reset:f}=S({defaultValues:m}),{data:t}=k(l),[i,o]=a.useState({}),{mutateAsync:x,isPending:g,isError:n,error:c}=D();a.useEffect(()=>{t&&f(t==null?void 0:t.data)},[t]),a.useEffect(()=>{n&&o(R(c))},[n,c]);const E=async _=>{o({});const{id:h,...j}=_,q=y(j);(await x({id:h,data:q})).status===400&&o({})};return e.jsxs(A,{flexDir:"column",gap:4,children:[e.jsx(F,{heading:"About Us",description:"Update the about us section"}),e.jsx(T,{alignItems:"start",columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{noValidate:!0,id:"section-form-about-conditions",onSubmit:b(E),children:[e.jsx(p,{control:r,name:"title_en",label:"Title (En)",required:!0,backendError:i.title_en}),e.jsx(p,{control:r,name:"title_en",label:"Title (Np)",required:!0,backendError:i.title_en}),e.jsx(u,{control:r,name:"description_en",label:"Description (En)",backendError:i.description_en}),e.jsx(u,{control:r,name:"description_np",label:"Description (Np)",backendError:i.description_np}),e.jsx(I,{control:r,name:"image",label:"Image",backendError:i.image,boxWidth:"full",boxHeight:"full",file:((d=t==null?void 0:t.data)==null?void 0:d.image)??"",boxAspectRatio:21/9,options:{accept:{"image/*":[]}}})]})}),e.jsx(U,{loading:g,type:"submit",form:"section-form-about-conditions",children:"Save"})]})};export{W as default};
