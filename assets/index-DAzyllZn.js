import{b_ as b,b as S,b$ as f,c0 as C,r as l,j as e,F as _,S as y,d as o,B as E,v as D,P as A,ae as H,c1 as R,c2 as T,aR as F,H as I,c3 as w,ab as B,c4 as N,c5 as O,af as k}from"./index-CWfgWEkq.js";import{R as P}from"./index-DUm37oXm.js";import"./index-L-oxSJQE.js";import"./Trash-DKAlRX93.js";const{Axios:J,AxiosError:M,CanceledError:U,isCancel:q,CancelToken:K,VERSION:L,all:Q,Cancel:W,isAxiosError:X,spread:Y,toFormData:$,AxiosHeaders:Z,HttpStatusCode:ee,formToJSON:te,getAdapter:se,mergeConfig:ae}=b,c=({slug:s})=>{const i={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:""},{control:a,handleSubmit:r,reset:n}=S({defaultValues:i}),{data:t}=f(s),{mutateAsync:p,isPending:x}=C();l.useEffect(()=>{n(t?{id:t.data.id,title_en:t.data.title_en,title_np:t.data.title_np,description_en:t.data.description_en,description_np:t.data.description_np,image:t.data.image}:i)},[t,n]);const m=async j=>{const{id:h,...u}=j,g=$(u);await p({id:h,data:g})};return e.jsxs(_,{flexDir:"column",gap:4,children:[e.jsx(y,{columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{id:`section-form-${s}`,onSubmit:r(m),children:[e.jsx(o,{name:"id",label:"ID",control:a,hidden:!0}),e.jsx(o,{name:"title_en",label:"Title (En)",control:a}),e.jsx(o,{name:"title_np",label:"Title (Np)",control:a}),e.jsx(o,{name:"description_en",label:"Description (En)",control:a,type:"textarea"}),e.jsx(o,{name:"description_np",label:"Description (Np)",control:a,type:"textarea"}),(s==="hero-section"||s==="statistics-section"||s==="contact-section")&&e.jsx(P,{name:"image",label:"Image",control:a,options:{accept:{"image/*":["*.jpg","*.jpeg","*.png"]}},file:(t==null?void 0:t.data.image)??""})]})}),e.jsx(E,{form:`section-form-${s}`,loading:x,type:"submit",children:"Submit"})]})},d=({heading:s,defaultOpen:i,children:a})=>{const[r,n]=l.useState(i);return e.jsx(H,{children:e.jsxs(R,{open:r,onOpenChange:t=>n(t.open),defaultOpen:i,children:[e.jsx(T,{asChild:!0,children:e.jsx(F,{cursor:"pointer",py:4,borderBottom:"1px solid",borderColor:"gray.200",textAlign:"center",children:e.jsxs(I,{justify:"space-between",w:"full",children:[e.jsx(w,{children:s}),e.jsx(B,{asChild:!0,transform:r?"rotate(180deg)":"",transition:"transform .25s ease",boxSize:8,children:e.jsx(N,{})})]})})}),e.jsx(O,{children:e.jsx(k,{children:a})})]})})},ie=()=>e.jsxs(D,{gap:8,children:[e.jsx(A,{heading:"Sections",description:"Manage the sections of the website"}),e.jsx(d,{heading:"Hero Section",defaultOpen:!0,children:e.jsx(c,{slug:"hero-section"})}),e.jsx(d,{heading:"Statistics Section",children:e.jsx(c,{slug:"statistics-section"})}),e.jsx(d,{heading:"Contact Section",children:e.jsx(c,{slug:"contact-section"})})]});export{ie as default};
