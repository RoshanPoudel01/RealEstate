import{u as b,a as D,r as p,j as e,D as A,P,H as x,B as I,T as r,L as K,F as _,b as T}from"./index-iYgY3VGR.js";import{A as v}from"./ActionColumn-BQqDc7Ix.js";import{S as E}from"./StatusSwitch-C0yXFwMi.js";import{u as L,S as N}from"./useSearchParamState-eBg1Yx3g.js";import{D as C}from"./DeleteAlert-Bu7rxg-j.js";import"./Pencil-PF73KeOr.js";import"./Trash-Q03gug3t.js";const M=()=>{var d,g;const{pageIndex:n,setPageIndex:h,keyword:o,setKeyword:m}=L(),l=b(),S=[{header:"S.N",accessorKey:"s.no",cell:({row:s})=>{const{index:a}=s;return e.jsx(r,{children:(n-1)*10+a+1})}},{header:"Title (EN)",accessorKey:"title_en",cell:({row:s})=>{const{title_en:a}=s.original;return e.jsx(r,{children:a})},enableSorting:!1},{header:"Title (NP)",accessorKey:"title_np",cell:({row:s})=>{const{title_np:a}=s.original;return e.jsx(r,{children:a})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:s})=>{const{image:a}=s.original;return a?e.jsx(K,{src:a??"",alt:"slider"}):e.jsx(_,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:e.jsx(r,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:s})=>{const{id:a,is_active:i}=s.original;return e.jsx(E,{isActive:!!i,model:"slider",rowId:a})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:s})=>{const{id:a}=s.original,[i,u]=p.useState(!1),{mutateAsync:y,isPending:w}=T();return e.jsxs(x,{w:"max-content",mx:"auto",children:[e.jsx(v,{handleView:()=>{},handleEdit:()=>l(`edit/${a}`)}),e.jsx(C,{open:i,setOpen:u,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Slider",description:"Are you sure you want to delete this slider?",onConfirm:async()=>{await y({id:a}),u(!1)}})]})}}],{data:t,isPending:f,isFetching:j,refetch:c}=D({page:n,keyword:o});return p.useEffect(()=>{c()},[n,o,c]),e.jsxs(A,{columns:S,data:(t==null?void 0:t.data.rows)??[],count:(t==null?void 0:t.data.count)??0,isLoading:f||j,pagination:{manual:!0,pageCount:((d=t==null?void 0:t.data.pagination)==null?void 0:d.last_page)??1,totalRows:((g=t==null?void 0:t.data.pagination)==null?void 0:g.total)??0,pageParams:{pageIndex:n,setPageIndex:h}},children:[e.jsx(P,{heading:"Sliders",description:"Manage your sliders here"}),e.jsxs(x,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[e.jsx(N,{onSearch:m,maxW:"300px",placeholder:"Search by title"}),e.jsx(I,{onClick:()=>l("create"),children:"Add Slider"})]})]})};export{M as default};
