import{u as b,k as C,r as u,j as a,D as _,P as D,H as m,B as K,T as n,L as N,F as P,l as A}from"./index-CEKF-M9F.js";import{A as I}from"./ActionColumn-D0fYHiIF.js";import{S as E}from"./StatusSwitch-Bz2uqzn8.js";import{u as v,S as L}from"./useSearchParamState-BS_QrSsR.js";import{D as k}from"./DeleteAlert-S6uEmGRA.js";import"./Trash-BIZCWG37.js";const O=()=>{var d,g;const{pageIndex:r,setPageIndex:x,keyword:o,setKeyword:h}=v(),l=b(),y=[{header:"S.N",accessorKey:"s.no",cell:({row:t})=>{const{index:e}=t;return a.jsx(n,{children:(r-1)*10+e+1})}},{header:"Name (EN)",accessorKey:"name_en",cell:({row:t})=>{const{name_en:e}=t.original;return a.jsx(n,{children:e??""})},enableSorting:!1},{header:"Name (NP)",accessorKey:"name_np",cell:({row:t})=>{const{name_np:e}=t.original;return a.jsx(n,{children:e??""})},enableSorting:!1},{header:"Description (EN)",accessorKey:"description_en",cell:({row:t})=>{const{description_en:e}=t.original;return a.jsx(n,{maxW:"400px",lineClamp:2,mx:"auto",children:e??""})},enableSorting:!1},{header:"Description (NP)",accessorKey:"description_np",cell:({row:t})=>{const{description_np:e}=t.original;return a.jsx(n,{maxW:"400px",lineClamp:2,mx:"auto",children:e??""})},enableSorting:!1},{header:"Display Order",accessorKey:"display_order",cell:({row:t})=>{const{display_order:e}=t.original;return a.jsx(n,{children:e})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>{const{image:e}=t.original;return e?a.jsx(N,{src:e??"",alt:"slider"}):a.jsx(P,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:a.jsx(n,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:t})=>{const{id:e,is_active:i}=t.original;return a.jsx(E,{isActive:!!i,model:"category",rowId:e})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:t})=>{const{id:e}=t.original,[i,p]=u.useState(!1),{mutateAsync:S,isPending:w}=A();return a.jsxs(m,{w:"max-content",mx:"auto",children:[a.jsx(I,{handleView:()=>{},handleEdit:()=>l(`edit/${e}`)}),a.jsx(k,{open:i,setOpen:p,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Category",description:"Are you sure you want to delete this category?",onConfirm:async()=>{await S({id:e}),p(!1)}})]})}}],{data:s,isPending:f,isFetching:j,refetch:c}=C({page:r,keyword:o});return u.useEffect(()=>{c()},[r,o,c]),a.jsxs(_,{columns:y,data:(s==null?void 0:s.data.rows)??[],isLoading:f||j,count:(s==null?void 0:s.data.count)??0,pagination:{manual:!0,pageCount:((d=s==null?void 0:s.data.pagination)==null?void 0:d.last_page)??1,totalRows:((g=s==null?void 0:s.data.pagination)==null?void 0:g.total)??0,pageParams:{pageIndex:r,setPageIndex:x}},children:[a.jsx(D,{heading:"Category",description:"Manage your category here"}),a.jsxs(m,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[a.jsx(L,{onSearch:h,maxW:"300px",placeholder:"Search by title"}),a.jsx(K,{onClick:()=>l("create"),children:"Add Category"})]})]})};export{O as default};
