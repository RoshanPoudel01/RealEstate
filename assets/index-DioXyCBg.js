import{b$ as b,b as S,c0 as _,c1 as C,r as l,j as e,F as f,S as E,d as s,B as y,v as D,P as A,ag as H,c2 as R,c3 as T,aR as F,H as I,c4 as N,ad as w,c5 as B,c6 as O,ah as k}from"./index-hFgZWhY0.js";import{R as P}from"./index-DPf6_ZtU.js";import"./Trash-AV0bthqm.js";const{Axios:G,AxiosError:J,CanceledError:M,isCancel:U,CancelToken:q,VERSION:K,all:L,Cancel:Q,isAxiosError:W,spread:X,toFormData:$,AxiosHeaders:Y,HttpStatusCode:Z,formToJSON:ee,getAdapter:te,mergeConfig:ae}=b,c=({slug:n})=>{const i={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:"",caption_en:"",caption_np:""},{control:a,handleSubmit:r,reset:o}=S({defaultValues:i}),{data:t}=_(n),{mutateAsync:p,isPending:x}=C();l.useEffect(()=>{o(t?{id:t.data.id,title_en:t.data.title_en,title_np:t.data.title_np,description_en:t.data.description_en,description_np:t.data.description_np,image:t.data.image,caption_en:t.data.caption_en,caption_np:t.data.caption_np}:i)},[t,o]);const m=async j=>{const{id:h,...u}=j,g=$(u);await p({id:h,data:g})};return e.jsxs(f,{flexDir:"column",gap:4,children:[e.jsx(E,{columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{id:`section-form-${n}`,onSubmit:r(m),children:[e.jsx(s,{name:"id",label:"ID",control:a,hidden:!0}),e.jsx(s,{name:"title_en",label:"Title (En)",control:a}),e.jsx(s,{name:"title_np",label:"Title (Np)",control:a}),e.jsx(s,{name:"description_en",label:"Description (En)",control:a,type:"textarea"}),e.jsx(s,{name:"description_np",label:"Description (Np)",control:a,type:"textarea"}),e.jsx(s,{name:"caption_en",label:"Caption (En)",control:a}),e.jsx(s,{name:"caption_np",label:"Caption (Np)",control:a}),(n==="hero-section"||n==="statistics-section"||n==="contact-section")&&e.jsx(P,{name:"image",label:"Image",control:a,options:{accept:{"image/*":["*.jpg","*.jpeg","*.png"]}},file:(t==null?void 0:t.data.image)??""})]})}),e.jsx(y,{form:`section-form-${n}`,loading:x,type:"submit",children:"Submit"})]})},d=({heading:n,defaultOpen:i,children:a})=>{const[r,o]=l.useState(i);return e.jsx(H,{children:e.jsxs(R,{open:r,onOpenChange:t=>o(t.open),defaultOpen:i,children:[e.jsx(T,{asChild:!0,children:e.jsx(F,{cursor:"pointer",py:4,borderBottom:"1px solid",borderColor:"gray.200",textAlign:"center",children:e.jsxs(I,{justify:"space-between",w:"full",children:[e.jsx(N,{children:n}),e.jsx(w,{asChild:!0,transform:r?"rotate(180deg)":"",transition:"transform .25s ease",boxSize:8,children:e.jsx(B,{})})]})})}),e.jsx(O,{children:e.jsx(k,{children:a})})]})})},ne=()=>e.jsxs(D,{gap:8,children:[e.jsx(A,{heading:"Sections",description:"Manage the sections of the website"}),e.jsx(d,{heading:"Hero Section",defaultOpen:!0,children:e.jsx(c,{slug:"hero-section"})}),e.jsx(d,{heading:"Statistics Section",children:e.jsx(c,{slug:"statistics-section"})}),e.jsx(d,{heading:"Contact Section",children:e.jsx(c,{slug:"contact-section"})})]});export{ne as default};
