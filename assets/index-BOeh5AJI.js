import{e as S,c4 as k,r as n,c5 as D,j as e,F as A,P as F,S as T,i as p,B as U}from"./index-Dbk5Kekq.js";import{R as I}from"./index-D625bCdH.js";import{C as u}from"./index-BeXg-3Rn.js";import{u as R}from"./useGetErrors-Bhs_yQR9.js";import{t as y}from"./index-D4wnHO3E.js";import{c as B,d as C,a as s}from"./index.esm-DlJSMwng.js";import"./index-CKrq-tjg.js";import"./Trash-BjDGnoUu.js";B().shape({id:C().required("Id is required"),title_en:s().required("Title is required"),title_np:s().required("Title is required"),description_en:s().required("Description is required"),description_np:s().required("Description is required")});const W=()=>{var d;const l="about-section",m={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:""},{control:r,handleSubmit:f,reset:b}=S({defaultValues:m}),{data:t}=k(l),[i,o]=n.useState({}),{mutateAsync:x,isPending:g,isError:a,error:c}=D();n.useEffect(()=>{t&&b(t==null?void 0:t.data)},[t]),n.useEffect(()=>{a&&o(R(c))},[a,c]);const E=async _=>{o({});const{id:h,...j}=_,q=y(j);(await x({id:h,data:q})).status===400&&o({})};return e.jsxs(A,{flexDir:"column",gap:4,children:[e.jsx(F,{heading:"About Us",description:"Update the about us section"}),e.jsx(T,{alignItems:"start",columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{noValidate:!0,id:"section-form-about-conditions",onSubmit:f(E),children:[e.jsx(p,{control:r,name:"title_en",label:"Title (En)",required:!0,backendError:i.title_en}),e.jsx(p,{control:r,name:"title_en",label:"Title (Np)",required:!0,backendError:i.title_en}),e.jsx(u,{control:r,name:"description_en",label:"Description (En)",backendError:i.description_en}),e.jsx(u,{control:r,name:"description_np",label:"Description (Np)",backendError:i.description_np}),e.jsx(I,{control:r,name:"image",label:"Image",backendError:i.image,boxWidth:"full",boxHeight:"full",file:((d=t==null?void 0:t.data)==null?void 0:d.image)??"",boxAspectRatio:21/9,options:{accept:{"image/*":[]}}})]})}),e.jsx(U,{loading:g,type:"submit",form:"section-form-about-conditions",children:"Save"})]})};export{W as default};
