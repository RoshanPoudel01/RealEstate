import{e as b,ca as f,cb as S,r as l,j as e,F as _,S as C,i as o,B as y,J as D,P as F,aq as E,cc as H,cd as R,b0 as T,H as w,ce as B,am as I,cf as P,cg as k,ar as z}from"./index-Mfjc3LbF.js";import{R as A}from"./index-CtlnRrA-.js";import{t as N}from"./index-CIfiG3GQ.js";import"./index-BjF-Ba9u.js";import"./Trash-DhxQr7B0.js";const c=({slug:s})=>{const i={id:"",title_en:"",title_np:"",description_en:"",description_np:"",image:""},{control:a,handleSubmit:r,reset:n}=b({defaultValues:i}),{data:t}=f(s),{mutateAsync:p,isPending:m}=S();l.useEffect(()=>{n(t?{id:t.data.id,title_en:t.data.title_en,title_np:t.data.title_np,description_en:t.data.description_en,description_np:t.data.description_np,image:t.data.image}:i)},[t,n]);const x=async j=>{const{id:h,...u}=j,g=N(u);await p({id:h,data:g})};return e.jsxs(_,{flexDir:"column",gap:4,children:[e.jsx(C,{columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{id:`section-form-${s}`,onSubmit:r(x),children:[e.jsx(o,{name:"id",label:"ID",control:a,hidden:!0}),e.jsx(o,{name:"title_en",label:"Title (En)",control:a}),e.jsx(o,{name:"title_np",label:"Title (Np)",control:a}),e.jsx(o,{name:"description_en",label:"Description (En)",control:a,type:"textarea"}),e.jsx(o,{name:"description_np",label:"Description (Np)",control:a,type:"textarea"}),(s==="hero-section"||s==="statistics-section"||s==="contact-section")&&e.jsx(A,{name:"image",label:"Image",control:a,options:{accept:{"image/*":["*.jpg","*.jpeg","*.png"]}},file:(t==null?void 0:t.data.image)??""})]})}),e.jsx(y,{form:`section-form-${s}`,loading:m,type:"submit",children:"Submit"})]})},d=({heading:s,defaultOpen:i,children:a})=>{const[r,n]=l.useState(i);return e.jsx(E,{children:e.jsxs(H,{open:r,onOpenChange:t=>n(t.open),defaultOpen:i,children:[e.jsx(R,{asChild:!0,children:e.jsx(T,{cursor:"pointer",py:4,borderBottom:"1px solid",borderColor:"gray.200",textAlign:"center",children:e.jsxs(w,{justify:"space-between",w:"full",children:[e.jsx(B,{children:s}),e.jsx(I,{asChild:!0,transform:r?"rotate(180deg)":"",transition:"transform .25s ease",boxSize:8,children:e.jsx(P,{})})]})})}),e.jsx(k,{children:e.jsx(z,{children:a})})]})})},M=()=>e.jsxs(D,{gap:8,children:[e.jsx(F,{heading:"Sections",description:"Manage the sections of the website"}),e.jsx(d,{heading:"Hero Section",defaultOpen:!0,children:e.jsx(c,{slug:"hero-section"})}),e.jsx(d,{heading:"Statistics Section",children:e.jsx(c,{slug:"statistics-section"})}),e.jsx(d,{heading:"Contact Section",children:e.jsx(c,{slug:"contact-section"})})]});export{M as default};
