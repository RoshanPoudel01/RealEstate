import{u as b,r as m,j as a,D as C,P as _,H as u,B as D,T as n,L as K,F as N}from"./index-Dupaq89U.js";import{A as P}from"./ActionColumn-Ba7UADkb.js";import{S as A}from"./StatusSwitch-CTdEV03U.js";import{u as I,S as E}from"./useSearchParamState-_yc8daph.js";import{D as v}from"./DeleteAlert-D6xD4u2K.js";import{u as L,a as F}from"./service-category-B1u6QWQm.js";import"./Pencil-DseIO4AP.js";import"./Trash-CTEP7qOq.js";const M=()=>{var d,p;const{pageIndex:r,setPageIndex:x,keyword:o,setKeyword:h}=I(),l=b(),y=[{header:"S.N",accessorKey:"s.no",cell:({row:t})=>{const{index:e}=t;return a.jsx(n,{children:(r-1)*10+e+1})}},{header:"Name (EN)",accessorKey:"name_en",cell:({row:t})=>{const{name_en:e}=t.original;return a.jsx(n,{children:e??""})},enableSorting:!1},{header:"Name (NP)",accessorKey:"name_np",cell:({row:t})=>{const{name_np:e}=t.original;return a.jsx(n,{children:e??""})},enableSorting:!1},{header:"Description (EN)",accessorKey:"description_en",cell:({row:t})=>{const{description_en:e}=t.original;return a.jsx(n,{maxW:"400px",lineClamp:2,mx:"auto",children:e??""})},enableSorting:!1},{header:"Description (NP)",accessorKey:"description_np",cell:({row:t})=>{const{description_np:e}=t.original;return a.jsx(n,{maxW:"400px",lineClamp:2,mx:"auto",children:e??""})},enableSorting:!1},{header:"Display Order",accessorKey:"display_order",cell:({row:t})=>{const{display_order:e}=t.original;return a.jsx(n,{children:e})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>{const{image:e}=t.original;return e?a.jsx(K,{src:e??"",alt:"slider"}):a.jsx(N,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:a.jsx(n,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:t})=>{const{id:e,is_active:i}=t.original;return a.jsx(A,{isActive:!!i,model:"category",rowId:e})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:t})=>{const{id:e}=t.original,[i,g]=m.useState(!1),{mutateAsync:S,isPending:w}=F();return a.jsxs(u,{w:"max-content",mx:"auto",children:[a.jsx(P,{handleView:()=>{},handleEdit:()=>l(`edit/${e}`)}),a.jsx(v,{open:i,setOpen:g,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Category",description:"Are you sure you want to delete this category?",onConfirm:async()=>{await S({id:e}),g(!1)}})]})}}],{data:s,isPending:f,isFetching:j,refetch:c}=L({page:r,keyword:o});return m.useEffect(()=>{c()},[r,o,c]),a.jsxs(C,{columns:y,data:(s==null?void 0:s.data.rows)??[],isLoading:f||j,count:(s==null?void 0:s.data.count)??0,pagination:{manual:!0,pageCount:((d=s==null?void 0:s.data.pagination)==null?void 0:d.last_page)??1,totalRows:((p=s==null?void 0:s.data.pagination)==null?void 0:p.total)??0,pageParams:{pageIndex:r,setPageIndex:x}},children:[a.jsx(_,{heading:"Category",description:"Manage your category here"}),a.jsxs(u,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[a.jsx(E,{onSearch:h,maxW:"300px",placeholder:"Search by title"}),a.jsx(D,{onClick:()=>l("create"),children:"Add Category"})]})]})};export{M as default};
