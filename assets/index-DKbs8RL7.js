import{u as b,r as u,j as a,D as _,P as D,H as h,B as K,T as s,L as P,F as A}from"./index-CoRq1SEl.js";import{A as I}from"./ActionColumn-C8lXhV4q.js";import{S as N}from"./StatusSwitch-DeQztq-W.js";import{u as C,S as E}from"./useSearchParamState-CcOC1ang.js";import{D as T}from"./DeleteAlert-C-0vIGQz.js";import{u as v,a as L}from"./service-sliders-CHzSauQB.js";import"./Pencil-DMxxgvfg.js";import"./Trash-CaPAxoks.js";const O=()=>{var d,g;const{pageIndex:r,setPageIndex:x,keyword:o,setKeyword:m}=C(),l=b(),S=[{header:"S.N",accessorKey:"s.no",cell:({row:t})=>{const{index:e}=t;return a.jsx(s,{children:(r-1)*10+e+1})}},{header:"Title (EN)",accessorKey:"title_en",cell:({row:t})=>{const{title_en:e}=t.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Title (NP)",accessorKey:"title_np",cell:({row:t})=>{const{title_np:e}=t.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Caption (EN)",accessorKey:"caption_en",cell:({row:t})=>{const{caption_en:e}=t.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Caption (NP)",accessorKey:"caption_np",cell:({row:t})=>{const{caption_np:e}=t.original;return a.jsx(s,{children:e})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:t})=>{const{image:e}=t.original;return e?a.jsx(P,{src:e??"",alt:"slider"}):a.jsx(A,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:a.jsx(s,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:t})=>{const{id:e,is_active:i}=t.original;return a.jsx(N,{isActive:!!i,model:"slider",rowId:e})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:t})=>{const{id:e}=t.original,[i,p]=u.useState(!1),{mutateAsync:y,isPending:w}=L();return a.jsxs(h,{w:"max-content",mx:"auto",children:[a.jsx(I,{handleView:()=>{},handleEdit:()=>l(`edit/${e}`)}),a.jsx(T,{open:i,setOpen:p,deleteText:"Delete",isDeleteLoading:w,heading:"Delete Slider",description:"Are you sure you want to delete this slider?",onConfirm:async()=>{await y({id:e}),p(!1)}})]})}}],{data:n,isPending:f,isFetching:j,refetch:c}=v({page:r,keyword:o});return u.useEffect(()=>{c()},[r,o,c]),a.jsxs(_,{columns:S,data:(n==null?void 0:n.data.rows)??[],count:(n==null?void 0:n.data.count)??0,isLoading:f||j,pagination:{manual:!0,pageCount:((d=n==null?void 0:n.data.pagination)==null?void 0:d.last_page)??1,totalRows:((g=n==null?void 0:n.data.pagination)==null?void 0:g.total)??0,pageParams:{pageIndex:r,setPageIndex:x}},children:[a.jsx(D,{heading:"Sliders",description:"Manage your sliders here"}),a.jsxs(h,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[a.jsx(E,{onSearch:m,maxW:"300px",placeholder:"Search by title"}),a.jsx(K,{onClick:()=>l("create"),children:"Add Slider"})]})]})};export{O as default};
