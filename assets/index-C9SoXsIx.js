import{b as j,b$ as g,r as o,c0 as S,j as e,F as T,P as k,S as C,d as c,B as D}from"./index-Du8Lk3Q-.js";import{C as u}from"./index-BGqEl4Tt.js";import{u as F}from"./useGetErrors-Bhs_yQR9.js";import{c as $,d as y,a as s}from"./index.esm-DPFBS4_k.js";import"./index-yPg3TB0L.js";$().shape({id:y().required("Id is required"),title_en:s().required("Title is required"),title_np:s().required("Title is required"),description_en:s().required("Description is required"),description_np:s().required("Description is required")});const U=()=>{const p="terms-conditions-section",l={id:"",title_en:"",title_np:"",description_en:"",description_np:""},{control:r,handleSubmit:m,reset:f,formState:B}=j({defaultValues:l}),{data:t}=g(p),[i,n]=o.useState({}),{mutateAsync:b,isPending:x,isError:a,error:d}=S();o.useEffect(()=>{t&&f(t==null?void 0:t.data)},[t]),o.useEffect(()=>{a&&n(F(d))},[a,d]);const _=async E=>{n({});const{id:q,...h}=E;(await b({id:q,data:h})).status===400&&n({})};return e.jsxs(T,{flexDir:"column",gap:4,children:[e.jsx(k,{heading:"Terms and Conditions",description:"Manage the terms and conditions of the website"}),e.jsx(C,{alignItems:"start",columns:{base:1,md:2},gap:4,asChild:!0,children:e.jsxs("form",{noValidate:!0,id:"section-form-terms-conditions",onSubmit:m(_),children:[e.jsx(c,{control:r,name:"title_en",label:"Title (En)",required:!0,backendError:i.title_en}),e.jsx(c,{control:r,name:"title_en",label:"Title (Np)",required:!0,backendError:i.title_en}),e.jsx(u,{control:r,name:"description_en",label:"Description (En)",backendError:i.description_en}),e.jsx(u,{control:r,name:"description_np",label:"Description (Np)",backendError:i.description_np})]})}),e.jsx(D,{loading:x,type:"submit",form:"section-form-terms-conditions",children:"Save"})]})};export{U as default};
