import{u as f,a as w,r as u,j as e,D as b,P,H as h,B as A,T as r,L as D,F as I,b as K}from"./index-Dql9ZPjC.js";import{A as _}from"./ActionColumn-Cxc54VfK.js";import{S as v}from"./StatusSwitch-DiIBVLNw.js";import{u as E,S as L}from"./useSearchParamState-Pq4u4nXT.js";import"./DeleteAlert-C16BHfxm.js";import"./Trash-CmVCt38o.js";const R=()=>{var d,g;const{pageIndex:n,setPageIndex:x,keyword:o,setKeyword:p}=E(),l=f(),m=[{header:"S.N",accessorKey:"s.no",cell:({row:s})=>{const{index:a}=s;return e.jsx(r,{children:(n-1)*10+a+1})}},{header:"Title (EN)",accessorKey:"title_en",cell:({row:s})=>{const{title_en:a}=s.original;return e.jsx(r,{children:a})},enableSorting:!1},{header:"Title (NP)",accessorKey:"title_np",cell:({row:s})=>{const{title_np:a}=s.original;return e.jsx(r,{children:a})},enableSorting:!1},{header:"Image",accessorKey:"image",cell:({row:s})=>{const{image:a}=s.original;return a?e.jsx(D,{src:a??"",alt:"slider"}):e.jsx(I,{mx:"auto",w:"100px",h:"100px",bg:"gray.200",justify:"center",align:"center",borderRadius:5,children:e.jsx(r,{children:"No Image"})})},enableSorting:!1},{header:"Status",accessorKey:"is_active",cell:({row:s})=>{const{id:a,is_active:i}=s.original;return e.jsx(v,{isActive:!!i,model:"slider",rowId:a})},enableSorting:!1},{header:"Action",accessorKey:"action",cell:({row:s})=>{const{id:a}=s.original;u.useState(!1);const{mutateAsync:i,isPending:y}=K();return e.jsx(h,{w:"max-content",mx:"auto",children:e.jsx(_,{handleView:()=>{},handleEdit:()=>l(`edit/${a}`),handleDelete:async()=>{await i({id:a})},deleteHeading:"Delete Slider",deleteMessage:"Are you sure you want to delete this slider?",isDeleteLoading:y})})}}],{data:t,isPending:S,isFetching:j,refetch:c}=w({page:n,keyword:o});return u.useEffect(()=>{c()},[n,o,c]),e.jsxs(b,{columns:m,data:(t==null?void 0:t.data.rows)??[],count:(t==null?void 0:t.data.count)??0,isLoading:S||j,pagination:{manual:!0,pageCount:((d=t==null?void 0:t.data.pagination)==null?void 0:d.last_page)??1,totalRows:((g=t==null?void 0:t.data.pagination)==null?void 0:g.total)??0,pageParams:{pageIndex:n,setPageIndex:x}},children:[e.jsx(P,{heading:"Sliders",description:"Manage your sliders here"}),e.jsxs(h,{justify:"space-between",gap:4,flexWrap:{base:"wrap",sm:"nowrap"},children:[e.jsx(L,{onSearch:p,maxW:"300px",placeholder:"Search by title"}),e.jsx(A,{onClick:()=>l("create"),children:"Add Slider"})]})]})};export{R as default};
